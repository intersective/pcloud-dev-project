AWSTemplateFormatVersion: '2010-09-09'
Description: CloudFormation template for Lambda use case IAM role with DynamoDB access

Parameters:
  LambdaFunctionName:
    Type: String
    Description: Name of the Lambda function that will use this IAM role
  StackName:
    Default: pcloud
    Type: String
  Env:
    Description: Environment type.
    Default: dev
    Type: String
    ConstraintDescription: must specify dev,test,live.

Resources:

  IAMRoleStack:
    Type: AWS::CloudFormation::Stack
    Properties:
      TemplateURL: ./infrastructure/lesson-7/iam-role.yml
      Parameters:
        LambdaFunctionName: !Ref LambdaFunctionName
        StackName: !Ref StackName
        Env: !Ref Env
